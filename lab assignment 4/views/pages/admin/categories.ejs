<!-- views/pages/admin/categories.ejs -->

<h1>Category Management</h1>
<a href="/categories/create" class="btn">Create Category</a>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <% categories.forEach(category => { %>
      <tr>
        <td><%= category.name %></td>
        <td>
          <a href="/categories/edit/<%= category._id %>">Edit</a> |
          <a href="/categories/delete/<%= category._id %>">Delete</a>
        </td>
      </tr>
    <% }) %>
  </tbody>
</table>

<!-- Pagination Controls with Bootstrap -->
<nav aria-label="Page navigation">
  <ul class="pagination justify-content-center">
    <% if (currentPage > 1) { %>
      <li class="page-item">
        <a class="page-link" href="?page=<%= currentPage - 1 %>" aria-label="Previous">
          <span aria-hidden="true">&laquo;</span>
        </a>
      </li>
    <% } else { %>
      <li class="page-item disabled">
        <span class="page-link">&laquo;</span>
      </li>
    <% } %>

    <% for (let i = 1; i <= totalPages; i++) { %>
      <li class="page-item <%= currentPage === i ? 'active' : '' %>">
        <a class="page-link" href="?page=<%= i %>"><%= i %></a>
      </li>
    <% } %>

    <% if (currentPage < totalPages) { %>
      <li class="page-item">
        <a class="page-link" href="?page=<%= currentPage + 1 %>" aria-label="Next">
          <span aria-hidden="true">&raquo;</span>
        </a>
      </li>
    <% } else { %>
      <li class="page-item disabled">
        <span class="page-link">&raquo;</span>
      </li>
    <% } %>
  </ul>
</nav>